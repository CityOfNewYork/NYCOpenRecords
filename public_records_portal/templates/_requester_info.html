{% set alias = "Not provided" %}
{% set phone = "Not provided" %}
{% set requester = req.requester() %}
{% if requester %}
    {% set user = requester.user %}
    {% set email = user.email %}
    {% set alias = user.alias %}
    {% set phone = user.phone %}
    {% set fax = user.fax %}
    {% set address1 = user.address1 %}
    {% set address2 = user.address2 %}
    {% set city = user.city %}
    {% set state = user.state %}
    {% set zipcode = user.zipcode %}
{% endif %}
<div class="btn" id="requesterInfoButton">Show Requester Contact Information &#9660;</div>
<br/>
<div class="row-fluid hide" id="requester_info">
    <br/>
    <div class="row-fluid">
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#edit_requester_info">
            Launch demo modal
        </button>
    </div>
    <br/>
    <div class="span8">
        <div class="row-fluid">
            <div class="span6">Requester's Name:</div>
            <div class="span6">
                <span class="label" id='requester_alias'>{{ alias or "Not provided" }}</span>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Email:</div>
            <div class="span6">
                {% if email %}
                    <span class="label" id='requester_email'><a href="mailto:{{ email }}">{{ email }}</a></span>
                {% else %}
                    <span class="label" id='requester_email'>Not provided</span>
                {% endif %}
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Phone Number:</div>
            <div class="span6">
                {% if phone %}
                    <span class="label" id='requester_phone'>{{ phone or "Not provided" }}</span>
                {% else %}
                    <span class="label" id='requester_phone'>Not provided</span>
                {% endif %}
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Fax Number:</div>
            <div class="span6">
                {% if fax %}
                    <span class="label" id='requester_fax'>{{ fax or "Not provided" }}</span>
                {% else %}
                    <span class="label" id='requester_fax'>Not provided</span>
                {% endif %}
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Street Address (line 1):</div>
            <div class="span6">
                <span class="label" id='requester_address_line_one'>{{ address1 or "Not provided" }}</span>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Street Address (line 2):</div>
            <div class="span6">
                <span class="label" id='requester_address_line_two'>{{ address2 or "Not provided" }}</span>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's City:</div>
            <div class="span6">
                <span class="label" style="align: left;" id='requester_address_city'>{{ city or "Not provided" }}</span>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's State:</div>
            <div class="span6">
                {% if not address1 or not city or not zipcode %}
                    <span class="label" id='requester_address_state'>Not provided</span>
                {% else %}
                    <span class="label" id='requester_address_state'>{{ state }}</span>
                {% endif %}
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">Requester's Zipcode:</div>
            <div class="span6">
                <span class="label" id='requester_address_zipcode'>{{ zipcode or "Not provided" }}</span>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Edit button -->
<div class="modal fade" id="edit_requester_info" tabindex="-1" role="dialog" aria- labelledby="edit_requester_info"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Edit Skill</h4>
            </div>
            <form method="post" action="/edit_requester_info">
                <input type="hidden" name="request_id" value="{{ req.id }}"/>
                <input name=_csrf_token type=hidden value="{{ csrf_token() }}">
                <div class="modal-body">
                    <div class="span8">
                        <div class="row-fluid">
                            <div class="span6">Requester's Name:</div>
                            <div class="span6">
                                <input type="text" id='edit_requester_alias' name='edit_requester_alias' value="{{ alias or "" }}">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Email:</div>
                            <div class="span6">
                                <input type="text" id="edit_requester_email" value="{{ email or "" }}">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Phone Number:</div>
                            <div class="span6">
                                {% if phone %}
                                    <input type="text" id='edit_requester_phone' name='edit_requester_phone' value="{{ phone or "" }}">
                                {% else %}
                                    <input type="text" id='edit_requester_phone' name='edit_requester_phone' value="">
                                {% endif %}
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Fax Number:</div>
                            <div class="span6">
                                {% if fax %}
                                    <input type="text" id='edit_requester_fax' name='edit_requester_fax' value="{{ fax or "" }}">
                                {% else %}
                                    <input type="text" id='edit_requester_fax' name='edit_requester_fax' value="" >
                                {% endif %}
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Street Address (line 1):</div>
                            <div class="span6">
                                <input type="text" id='edit_requester_address_line_one' name='edit_requester_address_line_one' value="{{ address1 or "" }}">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Street Address (line 2):</div>
                            <div class="span6">
                                 <input type="text" id='edit_requester_address_line_two' name='edit_requester_address_line_two' value="{{ address2 or "" }}">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's City:</div>
                            <div class="span6">
                                <input type="text" id='edit_requester_address_city' name='edit_requester_address_city' value="{{ city or "" }}">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's State:</div>
                            <div class="span6">
                                {% if not address1 or not city or not zipcode %}
                                    <input type="text" id='edit_requester_address_state' name='edit_requester_address_state' value="">
                                {% else %}
                                    <input type="text" id='edit_requester_address_state' name='edit_requester_address_state' value="{{ state }}">
                                {% endif %}
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">Requester's Zipcode:</div>
                            <div class="span6">
                                <input type="text" id='edit_requester_address_zipcode' name='edit_requester_address_zipcode' value="{{ zipcode or "" }}"</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">&times; Cancel</button>
                    <button type="submit" class="btn btn-default">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>
