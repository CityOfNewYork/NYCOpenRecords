<table class="table">
    <thead>
    <tr>
        <th>Responses</th>
    </tr>
    </thead>
    <tbody>
    {% for response in request_responses_section %}
        {% if response.type ==  'Note' %}

        {% elif response.type ==  'File' %}

        {% elif response.type ==  'Link' %}

        {% elif response.type ==  'Offline Instruction' %}

        {% elif response.type ==  'Notification' %}

        {% elif response.type ==  'Extension' %}

        {% endif %}
    {% endfor %}
    <tr>
        <td>
            File
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Link
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Instruction
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    <tr>
        <td>
            Note
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Extension
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Email
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            SMS
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Push
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    <tr>
        <td>
            Visibility
            <button style="float: right;" type="button" class="btn btn-secondary btn-sm">Edit</button>
        </td>
    </tr>
    </tbody>
</table>

<div class="navigation-arrows" style="text-align: center;">
    <div class="responses-active">
        <a onclick="previous_responses()">&#9668;</a>
        <a onclick="next_responses()">&#9658;</a>
    </div>
</div>

<div class="load-more-responses" style="text-align: center;">
    <a onclick="load_more_responses()">Load More</a>
</div>

{% block scripts %}
    <script type="text/javascript">
        var request_responses_reload_index = 0;
        var request_responses_index = 0;
        // Hide load-more-responses div
        $(".load-more-responses").hide();
        var request_responses = [];
        var request_responses_section = [request_responses.slice(request_history_index, request_history_index + 6)];
        $(document).ready(function () {
            {#        $.ajax({#}
            {#            type: "POST",#}
            {#            url: '/request/_get_request_responses',#}
            {#            dataType: 'json',#}
            {#            data: JSON.stringify(request_responses_reload_index),#}
            {#            success: function (response) {#}
            {#                var request_responses = response;#}
            {#                var request_responses_section = [request_responses.slice(request_responses_index, request_responses_index + 11)];#}
            {#                console.log(response)#}
            {#            },#}
            {#            error: function (error) {#}
            {#                console.log(error);#}
            {#            }#}
            {#        });#}
        });
        function previous_responses() {
            if (request_responses_index != 0) {
                request_responses_index = request_responses_index - 10;
            }
            console.log(request_responses_index);
            request_responses_section = [request_responses.slice(request_responses_index, request_responses_index + 11)];
            if (request_responses_index == 90) {
                $(".load-more-responses").show();
            } else {
                $(".load-more-responses").hide();
            }
        }

        function next_responses() {
            if (request_responses_index != 90) {
                request_responses_index = request_responses_index + 10;
            }
            console.log(request_responses_index);
            request_responses_section = [request_responses.slice(request_responses_index, request_responses_index + 11)];
            if (request_responses_index == 90) {
                $(".load-more-responses").show();
            } else {
                $(".load-more-responses").hide();
            }
        }

        function load_more_responses() {
            request_responses_reload_index++;
            $.ajax({
                type: "POST",
                url: '/_get_request_responses',
                dataType: 'json',
                data: JSON.stringify(request_responses_reload_index),
                success: function (response) {
                    var request_responses = response;
                    var request_responses_section = [request_responses.slice(request_responses_index, request_responses_index + 11)];
                    console.log(response)
                },
                error: function (error) {
                    console.log(error);
                }
            });
            request_responses_index = 0;
        }
    </script>
{% endblock %}